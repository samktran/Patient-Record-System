{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khsam\\\\Documents\\\\React Projects\\\\assignment-two\\\\my-react-app\\\\src\\\\PatientPanel.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction PatientPanel() {\n  const [patientName, setPatientName] = React.useState(\"\");\n  const [treatID, setTreatID] = React.useState(\"\");\n  const [category, setCategory] = React.useState(\"\");\n  const [summary, setSummary] = useState(\"\");\n  const [newCategory, setNewCategory] = React.useState(\"\");\n  const [notification, setNotification] = React.useState(\"\");\n  const [newFilter, setNewFilter] = React.useState(\"\");\n  const [categoryInput, setCategoryInput] = React.useState(\"\");\n  const [filterNotification, setFilterNotification] = React.useState(\"\");\n\n  function fetchPatientRecords() {\n    axios.get(\"http://localhost:8080/patients\").then(response => {\n      console.log(response);\n      setSummary(response.data.data);\n      console.log(summary);\n    });\n  }\n\n  const stringSum = JSON.stringify(summary);\n  console.log(stringSum);\n\n  function savePatient() {\n    const value = {\n      name: patientName,\n      treatID: treatID,\n      category: category\n    };\n    axios.post(\"http://localhost:8080/patient\", value).then(response => {\n      // handle success\n      setNotification(response.data.message + \" patient added.\");\n    });\n  }\n\n  function deletePatient() {\n    axios.delete(`http://localhost:8080/deletePatient/${patientName}`).then(response => {\n      // handle success\n      setNotification(\"patient \" + response.data.message + \" successfully.\");\n    });\n  }\n\n  function updatePatient() {\n    const value = {\n      name: patientName,\n      treatID: treatID,\n      category: category\n    };\n    axios.put(`http://localhost:8080/updatePatient/${patientName}`, value).then(response => {\n      // handle success\n      setNotification(response.data.message + \" patient updated.\");\n    });\n  }\n\n  function filterPatient() {\n    axios.get(\"http://localhost:8080/patients\").then(response => {\n      // handle success\n      setFilterNotification(\"patient(s) filtered by \" + categoryInput + \".\");\n      setNewCategory(response.data.data);\n      const results = Object.values(newCategory);\n      const filter = results.filter(f => {\n        return f.category == categoryInput;\n      });\n      setNewFilter(filter);\n    });\n  }\n\n  const stringNewCat = JSON.stringify(newFilter);\n\n  function displayPatientHandler() {\n    fetchPatientRecords();\n  }\n\n  function savePatientHandler() {\n    savePatient();\n  }\n\n  function deletePatientHandler() {\n    deletePatient();\n  }\n\n  function updatePatientHandler() {\n    updatePatient();\n  }\n\n  function filterPatientHandler() {\n    filterPatient();\n  }\n\n  const showCategory = () => {\n    window.alert( /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, \"\\u2022 Operations and vaccinations \\u2022 Consultations and check-up \\u2022 Medicine and different types of tablets \\u2022 Clinical reports and attached documents and history \\u2022 Prescriptions and repeat Prescriptions\"));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, \"Records:\"), stringSum, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: displayPatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, \"Display Patients\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"Patient Form:\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, notification), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Patient Name\",\n    value: patientName,\n    onChange: e => setPatientName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Treatment ID\",\n    value: treatID,\n    onChange: e => setTreatID(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Category\",\n    value: category,\n    onChange: e => setCategory(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: savePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, \"Save Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: deletePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, \"Delete Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: updatePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, \"Update Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, \"Filter Patients:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Category\",\n    value: categoryInput,\n    onChange: e => setCategoryInput(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: filterPatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, \"Filter Patients\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: showCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, \"Help\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }, filterNotification), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }), stringNewCat, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default PatientPanel;","map":{"version":3,"sources":["C:/Users/khsam/Documents/React Projects/assignment-two/my-react-app/src/PatientPanel.js"],"names":["React","useEffect","useState","axios","PatientPanel","patientName","setPatientName","treatID","setTreatID","category","setCategory","summary","setSummary","newCategory","setNewCategory","notification","setNotification","newFilter","setNewFilter","categoryInput","setCategoryInput","filterNotification","setFilterNotification","fetchPatientRecords","get","then","response","console","log","data","stringSum","JSON","stringify","savePatient","value","name","post","message","deletePatient","delete","updatePatient","put","filterPatient","results","Object","values","filter","f","stringNewCat","displayPatientHandler","savePatientHandler","deletePatientHandler","updatePatientHandler","filterPatientHandler","showCategory","window","alert","e","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction PatientPanel() {\r\n  const [patientName, setPatientName] = React.useState(\"\");\r\n  const [treatID, setTreatID] = React.useState(\"\");\r\n  const [category, setCategory] = React.useState(\"\");\r\n  const [summary, setSummary] = useState(\"\");\r\n  const [newCategory, setNewCategory] = React.useState(\"\");\r\n  const [notification, setNotification] = React.useState(\"\");\r\n  const [newFilter, setNewFilter] = React.useState(\"\");\r\n  const [categoryInput, setCategoryInput] = React.useState(\"\");\r\n  const [filterNotification, setFilterNotification] = React.useState(\"\");\r\n\r\n  function fetchPatientRecords() {\r\n    axios.get(\"http://localhost:8080/patients\").then((response) => {\r\n      console.log(response);\r\n      setSummary(response.data.data);\r\n      console.log(summary);\r\n    });\r\n  }\r\n\r\n  const stringSum = JSON.stringify(summary);\r\n  console.log(stringSum);\r\n\r\n  function savePatient() {\r\n    const value = {\r\n      name: patientName,\r\n      treatID: treatID,\r\n      category: category,\r\n    };\r\n    axios.post(\"http://localhost:8080/patient\", value).then((response) => {\r\n      // handle success\r\n      setNotification(response.data.message + \" patient added.\");\r\n    });\r\n  }\r\n\r\n  function deletePatient() {\r\n    axios\r\n      .delete(`http://localhost:8080/deletePatient/${patientName}`)\r\n      .then((response) => {\r\n        // handle success\r\n        setNotification(\"patient \" + response.data.message + \" successfully.\");\r\n      });\r\n  }\r\n\r\n  function updatePatient() {\r\n    const value = {\r\n      name: patientName,\r\n      treatID: treatID,\r\n      category: category,\r\n    };\r\n    axios\r\n      .put(`http://localhost:8080/updatePatient/${patientName}`, value)\r\n      .then((response) => {\r\n        // handle success\r\n        setNotification(response.data.message + \" patient updated.\");\r\n      });\r\n  }\r\n\r\n  function filterPatient() {\r\n    axios.get(\"http://localhost:8080/patients\").then((response) => {\r\n      // handle success\r\n      setFilterNotification(\"patient(s) filtered by \" + categoryInput + \".\");\r\n\r\n      setNewCategory(response.data.data);\r\n\r\n      const results = Object.values(newCategory);\r\n\r\n      const filter = results.filter((f) => {\r\n        return f.category == categoryInput;\r\n      });\r\n\r\n      setNewFilter(filter);\r\n    });\r\n  }\r\n\r\n  const stringNewCat = JSON.stringify(newFilter);\r\n\r\n  function displayPatientHandler() {\r\n    fetchPatientRecords();\r\n  }\r\n\r\n  function savePatientHandler() {\r\n    savePatient();\r\n  }\r\n\r\n  function deletePatientHandler() {\r\n    deletePatient();\r\n  }\r\n\r\n  function updatePatientHandler() {\r\n    updatePatient();\r\n  }\r\n\r\n  function filterPatientHandler() {\r\n    filterPatient();\r\n  }\r\n\r\n  const showCategory = () => {\r\n    window.alert(\r\n      <p>\r\n        • Operations and vaccinations • Consultations and check-up • Medicine\r\n        and different types of tablets • Clinical reports and attached documents\r\n        and history • Prescriptions and repeat Prescriptions\r\n      </p>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Records:</h3>\r\n      {stringSum}\r\n      <br />\r\n      <br />\r\n      <button onClick={displayPatientHandler}>Display Patients</button>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <h3>Patient Form:</h3>\r\n      <div>{notification}</div>\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Patient Name\"\r\n        value={patientName}\r\n        onChange={(e) => setPatientName(e.target.value)}\r\n      />\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Treatment ID\"\r\n        value={treatID}\r\n        onChange={(e) => setTreatID(e.target.value)}\r\n      />\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Category\"\r\n        value={category}\r\n        onChange={(e) => setCategory(e.target.value)}\r\n      />\r\n      <br />\r\n      <button onClick={savePatientHandler}>Save Patient</button>\r\n      <br />\r\n      <button onClick={deletePatientHandler}>Delete Patient</button>\r\n      <br />\r\n      <button onClick={updatePatientHandler}>Update Patient</button>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <h3>Filter Patients:</h3>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Category\"\r\n        value={categoryInput}\r\n        onChange={(e) => setCategoryInput(e.target.value)}\r\n      />\r\n      <button onClick={filterPatientHandler}>Filter Patients</button>\r\n      <button onClick={showCategory}>Help</button>\r\n      <br />\r\n      <br />\r\n      <div>{filterNotification}</div>\r\n      <br />\r\n      {stringNewCat}\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientPanel;\r\n"]},"metadata":{},"sourceType":"module"}