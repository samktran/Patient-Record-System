{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khsam\\\\OneDrive\\\\Documents\\\\Coding\\\\Patient Record System\\\\assignment-two\\\\my-react-app\\\\src\\\\PatientPanel.js\";\n// importing necessary libraries and styles\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./PatientPanel.css\"; // functional component named patientpanel\n\nfunction PatientPanel() {\n  // setting up state for the component\n  const [patientName, setPatientName] = React.useState(\"\");\n  const [treatID, setTreatID] = React.useState(\"\");\n  const [category, setCategory] = React.useState(\"\");\n  const [summary, setSummary] = useState([]);\n  const [newCategory, setNewCategory] = React.useState(\"\");\n  const [notification, setNotification] = React.useState(\"\");\n  const [newFilter, setNewFilter] = useState([]);\n  const [categoryInput, setCategoryInput] = React.useState(\"\");\n  const [filterNotification, setFilterNotification] = React.useState(\"\");\n  const [recordSize, setRecordSize] = React.useState(\"\"); // function to fetch patient records from the server\n\n  function fetchPatientRecords() {\n    axios.get(\"http://localhost:8080/patients\").then(response => {\n      //displays the total number of patients on record\n      setRecordSize(summary.length + \" patient(s) in the database.\");\n      console.log(response); //using react hooks, we assign the patient records objects to the react hook 'summary'\n\n      setSummary(response.data.data);\n      console.log(summary);\n    });\n  } // convert patient record object into string\n\n\n  const stringSum = JSON.stringify(summary); // function to save a patient's record to the server\n\n  function savePatient() {\n    const value = {\n      name: patientName,\n      treatID: treatID,\n      category: category\n    };\n    axios.post(\"http://localhost:8080/patient\", value).then(response => {\n      // update notification state with the saved patient\n      setNotification(response.data.message + \" patient added.\");\n    });\n  } // function to delete a patient's record from the server\n\n\n  function deletePatient() {\n    axios.delete(`http://localhost:8080/deletePatient/${patientName}`).then(response => {\n      // update notification state with the deleted patient\n      setNotification(\"patient \" + response.data.message + \" successfully.\");\n    });\n  } // function to update a patient's record on the server\n\n\n  function updatePatient() {\n    const value = {\n      name: patientName,\n      treatID: treatID,\n      category: category\n    };\n    axios.put(`http://localhost:8080/updatePatient/${patientName}`, value).then(response => {\n      // update notification state with the updated patient\n      setNotification(response.data.message + \" patient updated.\");\n    });\n  } // function to filter patient's records based on category\n\n\n  function filterPatient() {\n    // send a GET request to server to fetch all patients' data\n    axios.get(\"http://localhost:8080/patients\").then(response => {\n      // update the filterNotification state with the number of filtered patients and the category used for filtering.\n      setFilterNotification(newFilter.length + \" patient(s) filtered by \" + categoryInput + \".\"); // update the newCategory state with the fetched data from the server\n\n      setNewCategory(response.data.data); // get all values from the newCategory object and store them in the results array.\n\n      const results = Object.values(newCategory); // filter the results array to only include those patients whose category matches the categoryInput.\n\n      const filter = results.filter(f => {\n        return f.category == categoryInput;\n      }); // Update the newFilter state with the filtered array of patients.\n\n      setNewFilter(filter);\n    });\n  }\n\n  const stringNewCat = JSON.stringify(newFilter); // handler functions to handle clicks on the different buttons\n\n  function displayPatientHandler() {\n    fetchPatientRecords();\n  }\n\n  function savePatientHandler() {\n    savePatient();\n  }\n\n  function deletePatientHandler() {\n    deletePatient();\n  }\n\n  function updatePatientHandler() {\n    updatePatient();\n  }\n\n  function filterPatientHandler() {\n    filterPatient();\n  } // function to show available categories\n\n\n  const showCategory = () => {\n    window.alert(\"Available Categories to Filter By: \\n • Operations \\n • Consultations and check-up \\n • Medicine and different types of tablets \\n • Clinical reports and attached documents and history \\n • Prescriptions and repeat Prescriptions\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"Records:\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, recordSize), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }), summary.map(patient => /*#__PURE__*/React.createElement(\"div\", {\n    key: patient.treatid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, patient.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"Treatment ID: \", patient.treatid), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"Category: \", patient.category))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button-4\",\n    role: \"button\",\n    onClick: displayPatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, \"Display Patients\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, \"Patient Form:\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, notification), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Patient Name\",\n    value: patientName,\n    onChange: e => setPatientName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Treatment ID\",\n    value: treatID,\n    onChange: e => setTreatID(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Category\",\n    value: category,\n    onChange: e => setCategory(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button-4\",\n    role: \"button\",\n    onClick: savePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, \"Save Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button-4\",\n    role: \"button\",\n    onClick: deletePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }, \"Delete Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button-4\",\n    role: \"button\",\n    onClick: updatePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, \"Update Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, \"Filter Records:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Category\",\n    value: categoryInput,\n    onChange: e => setCategoryInput(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button-4\",\n    role: \"button\",\n    onClick: filterPatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, \"Filter Records\"), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button-4\",\n    role: \"button\",\n    onClick: showCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }, \"Help\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }\n  }, filterNotification), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }), newFilter.map(patient => /*#__PURE__*/React.createElement(\"div\", {\n    key: patient.treatid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, patient.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, \"Treatment ID: \", patient.treatid), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, \"Category: \", patient.category))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default PatientPanel;","map":{"version":3,"sources":["C:/Users/khsam/OneDrive/Documents/Coding/Patient Record System/assignment-two/my-react-app/src/PatientPanel.js"],"names":["React","useEffect","useState","axios","PatientPanel","patientName","setPatientName","treatID","setTreatID","category","setCategory","summary","setSummary","newCategory","setNewCategory","notification","setNotification","newFilter","setNewFilter","categoryInput","setCategoryInput","filterNotification","setFilterNotification","recordSize","setRecordSize","fetchPatientRecords","get","then","response","length","console","log","data","stringSum","JSON","stringify","savePatient","value","name","post","message","deletePatient","delete","updatePatient","put","filterPatient","results","Object","values","filter","f","stringNewCat","displayPatientHandler","savePatientHandler","deletePatientHandler","updatePatientHandler","filterPatientHandler","showCategory","window","alert","map","patient","treatid","e","target"],"mappings":"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","sourcesContent":["// importing necessary libraries and styles\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PatientPanel.css\";\r\n\r\n// functional component named patientpanel\r\nfunction PatientPanel() {\r\n  // setting up state for the component\r\n  const [patientName, setPatientName] = React.useState(\"\");\r\n  const [treatID, setTreatID] = React.useState(\"\");\r\n  const [category, setCategory] = React.useState(\"\");\r\n  const [summary, setSummary] = useState([]);\r\n  const [newCategory, setNewCategory] = React.useState(\"\");\r\n  const [notification, setNotification] = React.useState(\"\");\r\n  const [newFilter, setNewFilter] = useState([]);\r\n  const [categoryInput, setCategoryInput] = React.useState(\"\");\r\n  const [filterNotification, setFilterNotification] = React.useState(\"\");\r\n  const [recordSize, setRecordSize] = React.useState(\"\");\r\n\r\n  // function to fetch patient records from the server\r\n  function fetchPatientRecords() {\r\n    axios.get(\"http://localhost:8080/patients\").then((response) => {\r\n      //displays the total number of patients on record\r\n      setRecordSize(summary.length + \" patient(s) in the database.\");\r\n\r\n      console.log(response);\r\n      //using react hooks, we assign the patient records objects to the react hook 'summary'\r\n      setSummary(response.data.data);\r\n      console.log(summary);\r\n    });\r\n  }\r\n\r\n  // convert patient record object into string\r\n  const stringSum = JSON.stringify(summary);\r\n\r\n  // function to save a patient's record to the server\r\n  function savePatient() {\r\n    const value = {\r\n      name: patientName,\r\n      treatID: treatID,\r\n      category: category,\r\n    };\r\n    axios.post(\"http://localhost:8080/patient\", value).then((response) => {\r\n      // update notification state with the saved patient\r\n      setNotification(response.data.message + \" patient added.\");\r\n    });\r\n  }\r\n\r\n  // function to delete a patient's record from the server\r\n  function deletePatient() {\r\n    axios\r\n      .delete(`http://localhost:8080/deletePatient/${patientName}`)\r\n      .then((response) => {\r\n        // update notification state with the deleted patient\r\n        setNotification(\"patient \" + response.data.message + \" successfully.\");\r\n      });\r\n  }\r\n\r\n  // function to update a patient's record on the server\r\n  function updatePatient() {\r\n    const value = {\r\n      name: patientName,\r\n      treatID: treatID,\r\n      category: category,\r\n    };\r\n    axios\r\n      .put(`http://localhost:8080/updatePatient/${patientName}`, value)\r\n      .then((response) => {\r\n        // update notification state with the updated patient\r\n        setNotification(response.data.message + \" patient updated.\");\r\n      });\r\n  }\r\n\r\n  // function to filter patient's records based on category\r\n  function filterPatient() {\r\n    // send a GET request to server to fetch all patients' data\r\n    axios.get(\"http://localhost:8080/patients\").then((response) => {\r\n      // update the filterNotification state with the number of filtered patients and the category used for filtering.\r\n      setFilterNotification(\r\n        newFilter.length + \" patient(s) filtered by \" + categoryInput + \".\"\r\n      );\r\n\r\n      // update the newCategory state with the fetched data from the server\r\n      setNewCategory(response.data.data);\r\n\r\n      // get all values from the newCategory object and store them in the results array.\r\n      const results = Object.values(newCategory);\r\n\r\n      // filter the results array to only include those patients whose category matches the categoryInput.\r\n      const filter = results.filter((f) => {\r\n        return f.category == categoryInput;\r\n      });\r\n\r\n      // Update the newFilter state with the filtered array of patients.\r\n      setNewFilter(filter);\r\n    });\r\n  }\r\n\r\n  const stringNewCat = JSON.stringify(newFilter);\r\n\r\n  // handler functions to handle clicks on the different buttons\r\n  function displayPatientHandler() {\r\n    fetchPatientRecords();\r\n  }\r\n\r\n  function savePatientHandler() {\r\n    savePatient();\r\n  }\r\n\r\n  function deletePatientHandler() {\r\n    deletePatient();\r\n  }\r\n\r\n  function updatePatientHandler() {\r\n    updatePatient();\r\n  }\r\n\r\n  function filterPatientHandler() {\r\n    filterPatient();\r\n  }\r\n\r\n  // function to show available categories\r\n  const showCategory = () => {\r\n    window.alert(\r\n      \"Available Categories to Filter By: \\n • Operations \\n • Consultations and check-up \\n • Medicine and different types of tablets \\n • Clinical reports and attached documents and history \\n • Prescriptions and repeat Prescriptions\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <h3>Records:</h3>\r\n        <div>{recordSize}</div>\r\n        <br />\r\n        <br />\r\n        {summary.map((patient) => (\r\n          <div key={patient.treatid}>\r\n            <h4>{patient.name}</h4>\r\n            <p>Treatment ID: {patient.treatid}</p>\r\n            <p>Category: {patient.category}</p>\r\n          </div>\r\n        ))}\r\n        <br />\r\n        <br />\r\n        <button class=\"button-4\" role=\"button\" onClick={displayPatientHandler}>\r\n          Display Patients\r\n        </button>\r\n        <br />\r\n        <br />\r\n        <br />\r\n      </div>\r\n      <h3>Patient Form:</h3>\r\n      <div>{notification}</div>\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Patient Name\"\r\n        value={patientName}\r\n        onChange={(e) => setPatientName(e.target.value)}\r\n      />\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Treatment ID\"\r\n        value={treatID}\r\n        onChange={(e) => setTreatID(e.target.value)}\r\n      />\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Category\"\r\n        value={category}\r\n        onChange={(e) => setCategory(e.target.value)}\r\n      />\r\n      <br />\r\n      <button class=\"button-4\" role=\"button\" onClick={savePatientHandler}>\r\n        Save Patient\r\n      </button>\r\n      <br />\r\n      <button class=\"button-4\" role=\"button\" onClick={deletePatientHandler}>\r\n        Delete Patient\r\n      </button>\r\n      <br />\r\n      <button class=\"button-4\" role=\"button\" onClick={updatePatientHandler}>\r\n        Update Patient\r\n      </button>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <h3>Filter Records:</h3>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Category\"\r\n        value={categoryInput}\r\n        onChange={(e) => setCategoryInput(e.target.value)}\r\n      />\r\n      <button class=\"button-4\" role=\"button\" onClick={filterPatientHandler}>\r\n        Filter Records\r\n      </button>\r\n      <button class=\"button-4\" role=\"button\" onClick={showCategory}>\r\n        Help\r\n      </button>\r\n      <br />\r\n      <br />\r\n      <div>{filterNotification}</div>\r\n      <br />\r\n      {newFilter.map((patient) => (\r\n        <div key={patient.treatid}>\r\n          <h4>{patient.name}</h4>\r\n          <p>Treatment ID: {patient.treatid}</p>\r\n          <p>Category: {patient.category}</p>\r\n        </div>\r\n      ))}\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientPanel;\r\n"]},"metadata":{},"sourceType":"module"}