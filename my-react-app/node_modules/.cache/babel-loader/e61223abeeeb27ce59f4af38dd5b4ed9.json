{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khsam\\\\Documents\\\\React Projects\\\\assignment-two\\\\my-react-app\\\\src\\\\PatientPanel.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./PatientPanel.css\";\n\nfunction PatientPanel() {\n  const [patientName, setPatientName] = React.useState(\"\");\n  const [treatID, setTreatID] = React.useState(\"\");\n  const [category, setCategory] = React.useState(\"\");\n  const [summary, setSummary] = useState(\"\");\n  const [newCategory, setNewCategory] = React.useState(\"\");\n  const [notification, setNotification] = React.useState(\"\");\n  const [newFilter, setNewFilter] = React.useState(\"\");\n  const [categoryInput, setCategoryInput] = React.useState(\"\");\n  const [filterNotification, setFilterNotification] = React.useState(\"\");\n  const [recordSize, setRecordSize] = React.useState(\"\");\n\n  function fetchPatientRecords() {\n    axios.get(\"http://localhost:8080/patients\").then(response => {\n      //displays the total number of patients on record\n      setRecordSize(summary.length + \" patient(s) in the database.\");\n      console.log(response); //using react hooks, we assign the patient records objects to the react hook 'summary'\n\n      setSummary(response.data.data);\n      console.log(summary);\n    });\n  } //convert patient record object into string\n\n\n  const stringSum = JSON.stringify(summary);\n\n  function savePatient() {\n    const value = {\n      name: patientName,\n      treatID: treatID,\n      category: category\n    };\n    axios.post(\"http://localhost:8080/patient\", value).then(response => {\n      // handle success\n      setNotification(response.data.message + \" patient added.\");\n    });\n  }\n\n  function deletePatient() {\n    axios.delete(`http://localhost:8080/deletePatient/${patientName}`).then(response => {\n      // handle success\n      setNotification(\"patient \" + response.data.message + \" successfully.\");\n    });\n  }\n\n  function updatePatient() {\n    const value = {\n      name: patientName,\n      treatID: treatID,\n      category: category\n    };\n    axios.put(`http://localhost:8080/updatePatient/${patientName}`, value).then(response => {\n      // handle success\n      setNotification(response.data.message + \" patient updated.\");\n    });\n  }\n\n  function filterPatient() {\n    axios.get(\"http://localhost:8080/patients\").then(response => {\n      // handle success\n      setFilterNotification(newFilter.length + \" patient(s) filtered by \" + categoryInput + \".\");\n      setNewCategory(response.data.data);\n      const results = Object.values(newCategory);\n      const filter = results.filter(f => {\n        return f.category == categoryInput;\n      });\n      setNewFilter(filter);\n    });\n  }\n\n  const stringNewCat = JSON.stringify(newFilter);\n\n  function displayPatientHandler() {\n    fetchPatientRecords();\n  }\n\n  function savePatientHandler() {\n    savePatient();\n  }\n\n  function deletePatientHandler() {\n    deletePatient();\n  }\n\n  function updatePatientHandler() {\n    updatePatient();\n  }\n\n  function filterPatientHandler() {\n    filterPatient();\n  }\n\n  const showCategory = () => {\n    window.alert(\"Available Categories to Filter By: \\n • Operations \\n • Consultations and check-up \\n • Medicine and different types of tablets \\n • Clinical reports and attached documents and history \\n • Prescriptions and repeat Prescriptions\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"records-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, \"Records:\"), recordSize, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"records-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, stringSum), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: displayPatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, \"Display Patients\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, \"Patient Form:\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, notification), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Patient Name\",\n    value: patientName,\n    onChange: e => setPatientName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Treatment ID\",\n    value: treatID,\n    onChange: e => setTreatID(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Category\",\n    value: category,\n    onChange: e => setCategory(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: savePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, \"Save Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: deletePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, \"Delete Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: updatePatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, \"Update Patient\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, \"Filter Records:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Category\",\n    value: categoryInput,\n    onChange: e => setCategoryInput(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: filterPatientHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, \"Filter Records\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: showCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }, \"Help\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }, filterNotification), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }), stringNewCat, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default PatientPanel;","map":{"version":3,"sources":["C:/Users/khsam/Documents/React Projects/assignment-two/my-react-app/src/PatientPanel.js"],"names":["React","useEffect","useState","axios","PatientPanel","patientName","setPatientName","treatID","setTreatID","category","setCategory","summary","setSummary","newCategory","setNewCategory","notification","setNotification","newFilter","setNewFilter","categoryInput","setCategoryInput","filterNotification","setFilterNotification","recordSize","setRecordSize","fetchPatientRecords","get","then","response","length","console","log","data","stringSum","JSON","stringify","savePatient","value","name","post","message","deletePatient","delete","updatePatient","put","filterPatient","results","Object","values","filter","f","stringNewCat","displayPatientHandler","savePatientHandler","deletePatientHandler","updatePatientHandler","filterPatientHandler","showCategory","window","alert","e","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PatientPanel.css\";\r\n\r\nfunction PatientPanel() {\r\n  const [patientName, setPatientName] = React.useState(\"\");\r\n  const [treatID, setTreatID] = React.useState(\"\");\r\n  const [category, setCategory] = React.useState(\"\");\r\n  const [summary, setSummary] = useState(\"\");\r\n  const [newCategory, setNewCategory] = React.useState(\"\");\r\n  const [notification, setNotification] = React.useState(\"\");\r\n  const [newFilter, setNewFilter] = React.useState(\"\");\r\n  const [categoryInput, setCategoryInput] = React.useState(\"\");\r\n  const [filterNotification, setFilterNotification] = React.useState(\"\");\r\n  const [recordSize, setRecordSize] = React.useState(\"\");\r\n\r\n  function fetchPatientRecords() {\r\n    axios.get(\"http://localhost:8080/patients\").then((response) => {\r\n      //displays the total number of patients on record\r\n      setRecordSize(summary.length + \" patient(s) in the database.\");\r\n\r\n      console.log(response);\r\n      //using react hooks, we assign the patient records objects to the react hook 'summary'\r\n      setSummary(response.data.data);\r\n      console.log(summary);\r\n    });\r\n  }\r\n\r\n  //convert patient record object into string\r\n  const stringSum = JSON.stringify(summary);\r\n\r\n  function savePatient() {\r\n    const value = {\r\n      name: patientName,\r\n      treatID: treatID,\r\n      category: category,\r\n    };\r\n    axios.post(\"http://localhost:8080/patient\", value).then((response) => {\r\n      // handle success\r\n      setNotification(response.data.message + \" patient added.\");\r\n    });\r\n  }\r\n\r\n  function deletePatient() {\r\n    axios\r\n      .delete(`http://localhost:8080/deletePatient/${patientName}`)\r\n      .then((response) => {\r\n        // handle success\r\n        setNotification(\"patient \" + response.data.message + \" successfully.\");\r\n      });\r\n  }\r\n\r\n  function updatePatient() {\r\n    const value = {\r\n      name: patientName,\r\n      treatID: treatID,\r\n      category: category,\r\n    };\r\n    axios\r\n      .put(`http://localhost:8080/updatePatient/${patientName}`, value)\r\n      .then((response) => {\r\n        // handle success\r\n        setNotification(response.data.message + \" patient updated.\");\r\n      });\r\n  }\r\n\r\n  function filterPatient() {\r\n    axios.get(\"http://localhost:8080/patients\").then((response) => {\r\n      // handle success\r\n      setFilterNotification(\r\n        newFilter.length + \" patient(s) filtered by \" + categoryInput + \".\"\r\n      );\r\n\r\n      setNewCategory(response.data.data);\r\n\r\n      const results = Object.values(newCategory);\r\n\r\n      const filter = results.filter((f) => {\r\n        return f.category == categoryInput;\r\n      });\r\n\r\n      setNewFilter(filter);\r\n    });\r\n  }\r\n\r\n  const stringNewCat = JSON.stringify(newFilter);\r\n\r\n  function displayPatientHandler() {\r\n    fetchPatientRecords();\r\n  }\r\n\r\n  function savePatientHandler() {\r\n    savePatient();\r\n  }\r\n\r\n  function deletePatientHandler() {\r\n    deletePatient();\r\n  }\r\n\r\n  function updatePatientHandler() {\r\n    updatePatient();\r\n  }\r\n\r\n  function filterPatientHandler() {\r\n    filterPatient();\r\n  }\r\n\r\n  const showCategory = () => {\r\n    window.alert(\r\n      \"Available Categories to Filter By: \\n • Operations \\n • Consultations and check-up \\n • Medicine and different types of tablets \\n • Clinical reports and attached documents and history \\n • Prescriptions and repeat Prescriptions\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"records-item\">\r\n        <h3>Records:</h3>\r\n        {recordSize}\r\n        <br />\r\n        <br />\r\n        <div className=\"records-list\">{stringSum}</div>\r\n        <br />\r\n        <br />\r\n        <button onClick={displayPatientHandler}>Display Patients</button>\r\n        <br />\r\n        <br />\r\n        <br />\r\n      </div>\r\n      <h3>Patient Form:</h3>\r\n      <div>{notification}</div>\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Patient Name\"\r\n        value={patientName}\r\n        onChange={(e) => setPatientName(e.target.value)}\r\n      />\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Treatment ID\"\r\n        value={treatID}\r\n        onChange={(e) => setTreatID(e.target.value)}\r\n      />\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Category\"\r\n        value={category}\r\n        onChange={(e) => setCategory(e.target.value)}\r\n      />\r\n      <br />\r\n      <button onClick={savePatientHandler}>Save Patient</button>\r\n      <br />\r\n      <button onClick={deletePatientHandler}>Delete Patient</button>\r\n      <br />\r\n      <button onClick={updatePatientHandler}>Update Patient</button>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <h3>Filter Records:</h3>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Category\"\r\n        value={categoryInput}\r\n        onChange={(e) => setCategoryInput(e.target.value)}\r\n      />\r\n      <button onClick={filterPatientHandler}>Filter Records</button>\r\n      <button onClick={showCategory}>Help</button>\r\n      <br />\r\n      <br />\r\n      <div>{filterNotification}</div>\r\n      <br />\r\n      {stringNewCat}\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientPanel;\r\n"]},"metadata":{},"sourceType":"module"}